\mode<presentation>

% slide background
\setbeamertemplate{background}{
    \begin{tikzpicture}
        \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
        % (0,0) start at X=0, Y=0 draw a rectangle to (1/3 of paperwidth and Y=0.2) 
        % x:left to right, y: bottom to top
        
        % TH Köln lines at the top of the frame
        \fill[color=thk-red] (\thkmarginleft,\the\paperheight) rectangle(\thkmarginleft+\thkrest/3,\the\paperheight-1.8); 
        \fill[color=thk-orange] (\thkmarginleft+\thkrest/3,\the\paperheight) rectangle(\thkmarginleft+2*\thkrest/3,\the\paperheight-1.8);
        \fill[color=thk-violet] (\thkmarginleft+2*\thkrest/3,\the\paperheight) rectangle(\thkmarginleft+3*\thkrest/3,\the\paperheight-1.8);
        
        %% Footer %%
        % a small gray line
        \fill[color=gray] (\thkmarginleft,0.15*\the\paperheight) rectangle(\the\paperwidth,0.15*\the\paperheight-0.4);

        % anchor=west aligns text to the left

        % date %
        \ifx\insertshortdate\empty
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_date) at (\thkmarginleft,0.12*\the\paperheight) 
                {\insertdate};
        \else
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_date) at (\thkmarginleft,0.12*\the\paperheight) 
                {\insertshortdate};
        \fi

        % page %
        \ifx\insertshortsupervisor\empty
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_date) at (\thkmarginleft,0.06*\the\paperheight) 
                {\insertpagefooterlocalization \thepage};
        \else
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_date) at (\thkmarginleft,0.06*\the\paperheight) 
                {\insertshortpagefooterlocalization \thepage};
        \fi
        % supervisor %
        \ifx\insertshortsupervisor\empty
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_supervisor) at (2*\thkmarginleft,0.12*\the\paperheight) 
                {\insertsupervisor};
        \else
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_supervisor) at (2*\thkmarginleft,0.12*\the\paperheight) 
                {\insertshortsupervisor};
        \fi

        % title %
        \ifx\insertshortsubtitle\empty % check if a short title exists
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_title) at (2*\thkmarginleft,0.09*\the\paperheight) 
                {\inserttitle};
        \else
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_title) at (2*\thkmarginleft,0.09*\the\paperheight) 
                {\insertshorttitle};
        \fi

        % author %
        \ifx\insertshortauthor\empty 
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_author) at (2*\thkmarginleft,0.06*\the\paperheight) 
                {\insertauthor};
        \else
            \node[anchor=west, font=\fontsize{4pt}{7pt}\selectfont, text=black, text width=\linewidth]
                (N_author) at (2*\thkmarginleft,0.06*\the\paperheight) 
                {\insertshortauthor};
        \fi

        % TH Köln Logo
        \node[anchor=east, font=\fontsize{4pt}{7pt}\selectfont, text=black]
                (N_logo) at (\the\paperwidth -8,0.09*\the\paperheight) 
                {\includesvg[width=.15\linewidth]{figures/thk-logo}};
    \end{tikzpicture}
}

% footline bounding box
\setbeamertemplate{footline}
{
  \hbox{%
      \begin{beamercolorbox}[wd=1.00\paperwidth,ht=0.15\paperheight,dp=2ex,center]{white}%
      \end{beamercolorbox}
  }%
}

\mode<all>
